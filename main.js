"use strict";var Kt=Object.defineProperty;var Xt=(n,e,t)=>e in n?Kt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Z=(n,e,t)=>(Xt(n,typeof e!="symbol"?e+"":e,t),t);const fe=require("obsidian");function L(){}const Zt=n=>n;function x(n,e){for(const t in e)n[t]=e[t];return n}function kt(n){return n()}function xe(){return Object.create(null)}function J(n){n.forEach(kt)}function Ze(n){return typeof n=="function"}function B(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ut(n){return Object.keys(n).length===0}function $t(n,...e){if(n==null){for(const i of e)i(void 0);return L}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function et(n){let e;return $t(n,t=>e=t)(),e}function ve(n,e,t){n.$$.on_destroy.push($t(e,t))}function le(n,e,t,i){if(n){const s=Nt(n,e,t,i);return n[0](s)}}function Nt(n,e,t,i){return n[1]&&i?x(t.ctx.slice(),n[1](i(e))):t.ctx}function oe(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],o=Math.max(e.dirty.length,s.length);for(let r=0;r<o;r+=1)l[r]=e.dirty[r]|s[r];return l}return e.dirty|s}return e.dirty}function re(n,e,t,i,s,l){if(s){const o=Nt(e,t,i,l);n.p(o,s)}}function ae(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Ue(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function $e(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function Ye(n,e,t){return n.set(t),e}const St=typeof window!="undefined";let Gt=St?()=>window.performance.now():()=>Date.now(),Ge=St?n=>requestAnimationFrame(n):L;const Pe=new Set;function Tt(n){Pe.forEach(e=>{e.c(n)||(Pe.delete(e),e.f())}),Pe.size!==0&&Ge(Tt)}function Ht(n){let e;return Pe.size===0&&Ge(Tt),{promise:new Promise(t=>{Pe.add(e={c:n,f:t})}),abort(){Pe.delete(e)}}}const Jt=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function M(n,e){n.appendChild(e)}function Mt(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Qt(n){const e=C("style");return e.textContent="/* empty */",xt(Mt(n),e),e.sheet}function xt(n,e){return M(n.head||n,e),e.sheet}function P(n,e,t){n.insertBefore(e,t||null)}function w(n){n.parentNode&&n.parentNode.removeChild(n)}function en(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function C(n){return document.createElement(n)}function z(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ue(n){return document.createTextNode(n)}function R(){return ue(" ")}function Re(){return ue("")}function X(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function Vt(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Dt(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function tn(n){return function(e){e.target===this&&n.call(this,e)}}function f(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const nn=["width","height"];function Ne(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&nn.indexOf(i)===-1?n[i]=e[i]:f(n,i,e[i])}function sn(n){return Array.from(n.childNodes)}function me(n,e){e=""+e,n.data!==e&&(n.data=e)}function ie(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}let We;function ln(){if(We===void 0){We=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(n){We=!0}}return We}function je(n,e){getComputedStyle(n).position==="static"&&(n.style.position="relative");const i=C("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const s=ln();let l;return s?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=X(window,"message",o=>{o.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{l=X(i.contentWindow,"resize",e),e()}),M(n,i),()=>{(s||l&&i.contentWindow)&&l(),w(i)}}function Se(n,e,t){n.classList.toggle(e,!!t)}function Ft(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}const Ee=new Map;let Le=0;function on(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function rn(n,e){const t={stylesheet:Qt(e),rules:{}};return Ee.set(n,t),t}function tt(n,e,t,i,s,l,o,r=0){const u=16.666/i;let a=`{
`;for(let _=0;_<=1;_+=u){const b=e+(t-e)*l(_);a+=_*100+`%{${o(b,1-b)}}
`}const c=a+`100% {${o(t,1-t)}}
}`,h=`__svelte_${on(c)}_${r}`,d=Mt(n),{stylesheet:m,rules:p}=Ee.get(d)||rn(d,n);p[h]||(p[h]=!0,m.insertRule(`@keyframes ${h} ${c}`,m.cssRules.length));const g=n.style.animation||"";return n.style.animation=`${g?`${g}, `:""}${h} ${i}ms linear ${s}ms 1 both`,Le+=1,h}function an(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=t.length-i.length;s&&(n.style.animation=i.join(", "),Le-=s,Le||un())}function un(){Ge(()=>{Le||(Ee.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&w(e)}),Ee.clear())})}let Fe;function Ve(n){Fe=n}function He(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function cn(n){He().$$.on_mount.push(n)}function fn(n){He().$$.on_destroy.push(n)}function Ce(){const n=He();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const l=Ft(e,t,{cancelable:i});return s.slice().forEach(o=>{o.call(n,l)}),!l.defaultPrevented}return!0}}function ze(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const ye=[],G=[];let ke=[];const Ke=[],dn=Promise.resolve();let Xe=!1;function mn(){Xe||(Xe=!0,dn.then(It))}function se(n){ke.push(n)}function ee(n){Ke.push(n)}const Be=new Set;let _e=0;function It(){if(_e!==0)return;const n=Fe;do{try{for(;_e<ye.length;){const e=ye[_e];_e++,Ve(e),pn(e.$$)}}catch(e){throw ye.length=0,_e=0,e}for(Ve(null),ye.length=0,_e=0;G.length;)G.pop()();for(let e=0;e<ke.length;e+=1){const t=ke[e];Be.has(t)||(Be.add(t),t())}ke.length=0}while(ye.length);for(;Ke.length;)Ke.pop()();Xe=!1,Be.clear(),Ve(n)}function pn(n){if(n.fragment!==null){n.update(),J(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(se)}}function hn(n){const e=[],t=[];ke.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),ke=e}let Me;function gn(){return Me||(Me=Promise.resolve(),Me.then(()=>{Me=null})),Me}function qe(n,e,t){n.dispatchEvent(Ft(`${e?"intro":"outro"}${t}`))}const Oe=new Set;let ne;function pe(){ne={r:0,c:[],p:ne}}function he(){ne.r||J(ne.c),ne=ne.p}function v(n,e){n&&n.i&&(Oe.delete(n),n.i(e))}function k(n,e,t,i){if(n&&n.o){if(Oe.has(n))return;Oe.add(n),ne.c.push(()=>{Oe.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const _n={duration:0};function nt(n,e,t,i){let l=e(n,t,{direction:"both"}),o=i?0:1,r=null,u=null,a=null,c;function h(){a&&an(n,a)}function d(p,g){const _=p.b-o;return g*=Math.abs(_),{a:o,b:p.b,d:_,duration:g,start:p.start,end:p.start+g,group:p.group}}function m(p){const{delay:g=0,duration:_=300,easing:b=Zt,tick:y=L,css:I}=l||_n,D={start:Gt()+g,b:p};p||(D.group=ne,ne.r+=1),"inert"in n&&(p?c!==void 0&&(n.inert=c):(c=n.inert,n.inert=!0)),r||u?u=D:(I&&(h(),a=tt(n,o,p,_,g,b,I)),p&&y(0,1),r=d(D,_),se(()=>qe(n,p,"start")),Ht(S=>{if(u&&S>u.start&&(r=d(u,_),u=null,qe(n,r.b,"start"),I&&(h(),a=tt(n,o,r.b,r.duration,0,b,l.css))),r){if(S>=r.end)y(o=r.b,1-o),qe(n,r.b,"end"),u||(r.b?h():--r.group.r||J(r.group.c)),r=null;else if(S>=r.start){const $=S-r.start;o=r.a+r.d*b($/r.duration),y(o,1-o)}}return!!(r||u)}))}return{run(p){Ze(l)?gn().then(()=>{l=l({direction:p?"in":"out"}),m(p)}):m(p)},end(){h(),r=u=null}}}function Te(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ct(n,e){k(n,1,1,()=>{e.delete(n.key)})}function Wt(n,e,t,i,s,l,o,r,u,a,c,h){let d=n.length,m=l.length,p=d;const g={};for(;p--;)g[n[p].key]=p;const _=[],b=new Map,y=new Map,I=[];for(p=m;p--;){const V=h(s,l,p),A=t(V);let N=o.get(A);N?i&&I.push(()=>N.p(V,e)):(N=a(A,V),N.c()),b.set(A,_[p]=N),A in g&&y.set(A,Math.abs(p-g[A]))}const D=new Set,S=new Set;function $(V){v(V,1),V.m(r,c),o.set(V.key,V),c=V.first,m--}for(;d&&m;){const V=_[m-1],A=n[d-1],N=V.key,U=A.key;V===A?(c=V.first,d--,m--):b.has(U)?!o.has(N)||D.has(N)?$(V):S.has(U)?d--:y.get(N)>y.get(U)?(S.add(N),$(V)):(D.add(U),d--):(u(A,o),d--)}for(;d--;){const V=n[d];b.has(V.key)||u(V,o)}for(;m;)$(_[m-1]);return J(I),_}function Je(n,e){const t={},i={},s={$$scope:1};let l=n.length;for(;l--;){const o=n[l],r=e[l];if(r){for(const u in o)u in r||(i[u]=1);for(const u in r)s[u]||(t[u]=r[u],s[u]=1);n[l]=r}else for(const u in o)s[u]=1}for(const o in i)o in t||(t[o]=void 0);return t}function te(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function E(n){n&&n.c()}function W(n,e,t){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),se(()=>{const l=n.$$.on_mount.map(kt).filter(Ze);n.$$.on_destroy?n.$$.on_destroy.push(...l):J(l),n.$$.on_mount=[]}),s.forEach(se)}function O(n,e){const t=n.$$;t.fragment!==null&&(hn(t.after_update),J(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function bn(n,e){n.$$.dirty[0]===-1&&(ye.push(n),mn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Y(n,e,t,i,s,l,o,r=[-1]){const u=Fe;Ve(n);const a=n.$$={fragment:null,ctx:[],props:l,update:L,not_equal:s,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:xe(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};o&&o(a.root);let c=!1;if(a.ctx=t?t(n,e.props||{},(h,d,...m)=>{const p=m.length?m[0]:d;return a.ctx&&s(a.ctx[h],a.ctx[h]=p)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](p),c&&bn(n,h)),d}):[],a.update(),c=!0,J(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const h=sn(e.target);a.fragment&&a.fragment.l(h),h.forEach(w)}else a.fragment&&a.fragment.c();e.intro&&v(n.$$.fragment),W(n,e.target,e.anchor),It()}Ve(u)}class K{constructor(){Z(this,"$$");Z(this,"$$set")}$destroy(){O(this,1),this.$destroy=L}$on(e,t){if(!Ze(t))return L;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Ut(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yn="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yn);const be=[];function Ie(n,e=L){let t;const i=new Set;function s(r){if(B(n,r)&&(n=r,t)){const u=!be.length;for(const a of i)a[1](),be.push(a,n);if(u){for(let a=0;a<be.length;a+=2)be[a][0](be[a+1]);be.length=0}}}function l(r){s(r(n))}function o(r,u=L){const a=[r,u];return i.add(a),i.size===1&&(t=e(s,l)||L),r(n),()=>{i.delete(a),i.size===0&&t&&(t(),t=null)}}return{set:s,update:l,subscribe:o}}function wn(n){return{subscribe:n.subscribe.bind(n)}}function Ot(n,e){const t=new Map;return{make(i,s){const l=`${n}${i}`;let o=t.get(l);if(o!=null)return o;let r=!0,u=Ie(s);return e.subscribe(a=>{var c;r?(a==null?u.set(s):u.set((c=a[i])!=null?c:s),r=!1):a==null?u.set(s):u.set(a[i])}),o={subscribe:u.subscribe,set(a){u.set(a),e.update(c=>(c==null||(c[l]=a),c))},update(a){u.update(a),e.update(c=>(c==null||(c[l]=a(c[l])),c))}},t.set(l,o),o},namespace(i){const s=`${n}${i}`;return Ot(`${s}.`,e)}}}function vn(n){const e=n-1;return e*e*e+1}function it(n){return--n*n*n*n*n+1}function Pn(n){let e,t,i;const s=n[3].default,l=le(s,n,n[2],null);return{c(){e=z("svg"),l&&l.c(),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width",n[0]),f(e,"height",n[1]),f(e,"viewBox",t="0 0 "+n[0]+" "+n[1]),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"class","svg-icon")},m(o,r){P(o,e,r),l&&l.m(e,null),i=!0},p(o,[r]){l&&l.p&&(!i||r&4)&&re(l,s,o,o[2],i?oe(s,o[2],r,null):ae(o[2]),null),(!i||r&1)&&f(e,"width",o[0]),(!i||r&2)&&f(e,"height",o[1]),(!i||r&3&&t!==(t="0 0 "+o[0]+" "+o[1]))&&f(e,"viewBox",t)},i(o){i||(v(l,o),i=!0)},o(o){k(l,o),i=!1},d(o){o&&w(e),l&&l.d(o)}}}function kn(n,e,t){let{$$slots:i={},$$scope:s}=e,{width:l=24}=e,{height:o=24}=e;return n.$$set=r=>{"width"in r&&t(0,l=r.width),"height"in r&&t(1,o=r.height),"$$scope"in r&&t(2,s=r.$$scope)},[l,o,s,i]}class de extends K{constructor(e){super(),Y(this,e,kn,Pn,B,{width:0,height:1})}}function st(n,{delay:e=0,duration:t=400,easing:i=vn,axis:s="y"}={}){const l=getComputedStyle(n),o=+l.opacity,r=s==="y"?"height":"width",u=parseFloat(l[r]),a=s==="y"?["top","bottom"]:["left","right"],c=a.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),h=parseFloat(l[`padding${c[0]}`]),d=parseFloat(l[`padding${c[1]}`]),m=parseFloat(l[`margin${c[0]}`]),p=parseFloat(l[`margin${c[1]}`]),g=parseFloat(l[`border${c[0]}Width`]),_=parseFloat(l[`border${c[1]}Width`]);return{delay:e,duration:t,easing:i,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*o};${r}: ${b*u}px;padding-${a[0]}: ${b*h}px;padding-${a[1]}: ${b*d}px;margin-${a[0]}: ${b*m}px;margin-${a[1]}: ${b*p}px;border-${a[0]}-width: ${b*g}px;border-${a[1]}-width: ${b*_}px;`}}function $n(n){let e,t,i,s;const l=n[4].default,o=le(l,n,n[3],null);let r=[n[2]],u={};for(let a=0;a<r.length;a+=1)u=x(u,r[a]);return{c(){e=C("button"),o&&o.c(),Ne(e,u)},m(a,c){P(a,e,c),o&&o.m(e,null),e.autofocus&&e.focus(),t=!0,i||(s=[X(e,"click",Vt(n[0])),X(e,"keydown",n[1])],i=!0)},p(a,[c]){o&&o.p&&(!t||c&8)&&re(o,l,a,a[3],t?oe(l,a[3],c,null):ae(a[3]),null),Ne(e,u=Je(r,[c&4&&a[2]]))},i(a){t||(v(o,a),t=!0)},o(a){k(o,a),t=!1},d(a){a&&w(e),o&&o.d(a),i=!1,J(s)}}}function Nn(n,e,t){const i=[];let s=$e(e,i),{$$slots:l={},$$scope:o}=e;const r=Ce();function u(c){r("action",{inputEvent:c})}function a(c){c.key==="Enter"&&(c.preventDefault(),r("action",{inputEvent:c}))}return n.$$set=c=>{e=x(x({},e),Ue(c)),t(2,s=$e(e,i)),"$$scope"in c&&t(3,o=c.$$scope)},[u,a,s,o,l]}class ce extends K{constructor(e){super(),Y(this,e,Nn,$n,B,{})}}function Sn(n){let e;return{c(){e=z("path"),f(e,"d","M3 8L12 17L21 8")},m(t,i){P(t,e,i)},p:L,d(t){t&&w(e)}}}function Tn(n){let e,t;return e=new de({props:{$$slots:{default:[Sn]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&128&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function lt(n){let e,t,i;const s=n[6].default,l=le(s,n,n[7],null);return{c(){e=C("main"),l&&l.c()},m(o,r){P(o,e,r),l&&l.m(e,null),i=!0},p(o,r){l&&l.p&&(!i||r&128)&&re(l,s,o,o[7],i?oe(s,o[7],r,null):ae(o[7]),null)},i(o){i||(v(l,o),o&&se(()=>{i&&(t||(t=nt(e,st,{delay:0,duration:200,easing:it,axis:"y"},!0)),t.run(1))}),i=!0)},o(o){k(l,o),o&&(t||(t=nt(e,st,{delay:0,duration:200,easing:it,axis:"y"},!1)),t.run(0)),i=!1},d(o){o&&w(e),l&&l.d(o),o&&t&&t.end()}}}function Mn(n){let e,t,i,s,l,o,r,u,a,c,h,d;i=new ce({props:{tabindex:n[3],id:n[5],$$slots:{default:[Tn]},$$scope:{ctx:n}}}),i.$on("action",n[4]);let m=!n[0]&&lt(n);return{c(){e=C("fieldset"),t=C("header"),E(i.$$.fragment),s=R(),l=C("legend"),o=C("label"),r=ue(n[1]),u=R(),m&&m.c(),f(o,"for",n[5]),f(e,"class",a="collapsable"+(n[0]?" collapsed":"")+" "+n[2]+" svelte-1frl3wi")},m(p,g){P(p,e,g),M(e,t),W(i,t,null),M(t,s),M(t,l),M(l,o),M(o,r),M(e,u),m&&m.m(e,null),c=!0,h||(d=X(t,"mousedown",tn(n[4])),h=!0)},p(p,[g]){const _={};g&8&&(_.tabindex=p[3]),g&128&&(_.$$scope={dirty:g,ctx:p}),i.$set(_),(!c||g&2)&&me(r,p[1]),p[0]?m&&(pe(),k(m,1,1,()=>{m=null}),he()):m?(m.p(p,g),g&1&&v(m,1)):(m=lt(p),m.c(),v(m,1),m.m(e,null)),(!c||g&5&&a!==(a="collapsable"+(p[0]?" collapsed":"")+" "+p[2]+" svelte-1frl3wi"))&&f(e,"class",a)},i(p){c||(v(i.$$.fragment,p),v(m),c=!0)},o(p){k(i.$$.fragment,p),k(m),c=!1},d(p){p&&w(e),O(i),m&&m.d(),h=!1,d()}}}function Vn(n,e,t){let{$$slots:i={},$$scope:s}=e,{name:l}=e,{class:o=""}=e,{tabindex:r=0}=e,{collapsed:u=!0}=e;function a(){t(0,u=!u)}const c="collapsable_section_"+Math.random().toString(36).slice(2);return n.$$set=h=>{"name"in h&&t(1,l=h.name),"class"in h&&t(2,o=h.class),"tabindex"in h&&t(3,r=h.tabindex),"collapsed"in h&&t(0,u=h.collapsed),"$$scope"in h&&t(7,s=h.$$scope)},[u,l,o,r,a,c,i,s]}class De extends K{constructor(e){super(),Y(this,e,Vn,Mn,B,{name:1,class:2,tabindex:3,collapsed:0})}}function Dn(n){let e,t,i,s,l,o,r,u,a,c,h;return{c(){e=C("div"),t=C("label"),i=ue(n[1]),s=R(),l=C("div"),o=C("input"),r=R(),u=C("div"),f(t,"for",n[4]),f(o,"id",n[4]),f(o,"type","checkbox"),f(o,"class","svelte-dk9drq"),f(u,"class","thumb svelte-dk9drq"),f(l,"role","checkbox"),f(l,"tabindex",n[2]),f(l,"aria-checked",n[0]),f(l,"class","svelte-dk9drq"),f(e,"class",a="toggle-input"+(n[0]?" checked":"")+" "+n[3]+" svelte-dk9drq")},m(d,m){P(d,e,m),M(e,t),M(t,i),M(e,s),M(e,l),M(l,o),o.checked=n[0],M(l,r),M(l,u),c||(h=[X(o,"change",n[6]),X(l,"click",n[5]),X(l,"keydown",n[7])],c=!0)},p(d,[m]){m&2&&me(i,d[1]),m&1&&(o.checked=d[0]),m&4&&f(l,"tabindex",d[2]),m&1&&f(l,"aria-checked",d[0]),m&9&&a!==(a="toggle-input"+(d[0]?" checked":"")+" "+d[3]+" svelte-dk9drq")&&f(e,"class",a)},i:L,o:L,d(d){d&&w(e),c=!1,J(h)}}}function Fn(n,e,t){let{name:i}=e,{tabIndex:s}=e,{checked:l=!1}=e,{class:o=""}=e;const r="toggle_input_"+Math.random().toString(36).slice(2);function u(){t(0,l=!l)}function a(){l=this.checked,t(0,l)}const c=h=>h.key==="Enter"?u():null;return n.$$set=h=>{"name"in h&&t(1,i=h.name),"tabIndex"in h&&t(2,s=h.tabIndex),"checked"in h&&t(0,l=h.checked),"class"in h&&t(3,o=h.class)},[l,i,s,o,r,u,a,c]}class In extends K{constructor(e){super(),Y(this,e,Fn,Dn,B,{name:1,tabIndex:2,checked:0,class:3})}}function Cn(n){let e,t,i;function s(o){n[4](o)}let l={class:"control-item display-notes-input",name:"Names Below Points",tabIndex:0};return n[0]!==void 0&&(l.checked=n[0]),e=new In({props:l}),G.push(()=>te(e,"checked",s)),{c(){E(e.$$.fragment)},m(o,r){W(e,o,r),i=!0},p(o,r){const u={};!t&&r&1&&(t=!0,u.checked=o[0],ee(()=>t=!1)),e.$set(u)},i(o){i||(v(e.$$.fragment,o),i=!0)},o(o){k(e.$$.fragment,o),i=!1},d(o){O(e,o)}}}function Wn(n){let e,t,i;function s(o){n[5](o)}let l={class:"display-section",name:"Display",$$slots:{default:[Cn]},$$scope:{ctx:n}};return n[1]!==void 0&&(l.collapsed=n[1]),e=new De({props:l}),G.push(()=>te(e,"collapsed",s)),{c(){E(e.$$.fragment)},m(o,r){W(e,o,r),i=!0},p(o,[r]){const u={};r&65&&(u.$$scope={dirty:r,ctx:o}),!t&&r&2&&(t=!0,u.collapsed=o[1],ee(()=>t=!1)),e.$set(u)},i(o){i||(v(e.$$.fragment,o),i=!0)},o(o){k(e.$$.fragment,o),i=!1},d(o){O(e,o)}}}function On(n,e,t){var a;let i,{namespacedWritable:s=void 0}=e,{displayDataPointNames:l=!1}=e,o=(a=s==null?void 0:s.make("collapsed",!0))!=null?a:Ie(!0);ve(n,o,c=>t(1,i=c));function r(c){l=c,t(0,l)}function u(c){i=c,o.set(i)}return n.$$set=c=>{"namespacedWritable"in c&&t(3,s=c.namespacedWritable),"displayDataPointNames"in c&&t(0,l=c.displayDataPointNames)},[l,i,o,s,r,u]}class En extends K{constructor(e){super(),Y(this,e,On,Wn,B,{namespacedWritable:3,displayDataPointNames:0})}}const Ln=n=>({}),ot=n=>({});function zn(n){let e,t;return e=new ce({props:{class:"open-button","aria-label":"Open",$$slots:{default:[jn]},$$scope:{ctx:n}}}),e.$on("action",n[6]),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&1024&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function An(n){let e,t;return e=new ce({props:{class:"close-button","aria-label":"Close",$$slots:{default:[qn]},$$scope:{ctx:n}}}),e.$on("action",n[5]),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&1024&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Rn(n){let e,t,i;return{c(){e=z("path"),t=R(),i=z("circle"),f(e,"d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"),f(i,"cx","12"),f(i,"cy","12"),f(i,"r","3")},m(s,l){P(s,e,l),P(s,t,l),P(s,i,l)},p:L,d(s){s&&(w(e),w(t),w(i))}}}function jn(n){let e,t;return e=new de({props:{$$slots:{default:[Rn]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&1024&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Bn(n){let e,t,i;return{c(){e=z("line"),t=R(),i=z("line"),f(e,"x1","18"),f(e,"y1","6"),f(e,"x2","6"),f(e,"y2","18"),f(i,"x1","6"),f(i,"y1","6"),f(i,"x2","18"),f(i,"y2","18")},m(s,l){P(s,e,l),P(s,t,l),P(s,i,l)},p:L,d(s){s&&(w(e),w(t),w(i))}}}function qn(n){let e,t;return e=new de({props:{$$slots:{default:[Bn]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&1024&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Yn(n){let e;return{c(){e=C("span"),e.textContent="Coming Soon!"},m(t,i){P(t,e,i)},p:L,d(t){t&&w(e)}}}function Kn(n){var S;let e,t,i,s,l,o,r,u,a,c,h,d,m;const p=[An,zn],g=[];function _($,V){return $[3]?0:1}t=_(n),i=g[t]=p[t](n);const b=n[7]["additional-settings"],y=le(b,n,n[10],ot);function I($){n[9]($)}let D={namespacedWritable:(S=n[1])==null?void 0:S.namespace("display")};return n[0]!==void 0&&(D.displayDataPointNames=n[0]),o=new En({props:D}),G.push(()=>te(o,"displayDataPointNames",I)),a=new De({props:{name:"Layout",$$slots:{default:[Yn]},$$scope:{ctx:n}}}),{c(){var $;e=C("form"),i.c(),s=R(),y&&y.c(),l=R(),E(o.$$.fragment),u=R(),E(a.$$.fragment),f(e,"class",c="timeline-settings"+(n[3]?" open":" closed")+" "+(($=n[2])!=null?$:"")+" svelte-zwg04h")},m($,V){P($,e,V),g[t].m(e,null),M(e,s),y&&y.m(e,null),M(e,l),W(o,e,null),M(e,u),W(a,e,null),h=!0,d||(m=X(e,"submit",Dt(Vt(n[8]))),d=!0)},p($,[V]){var Q,F;let A=t;t=_($),t===A?g[t].p($,V):(pe(),k(g[A],1,1,()=>{g[A]=null}),he(),i=g[t],i?i.p($,V):(i=g[t]=p[t]($),i.c()),v(i,1),i.m(e,s)),y&&y.p&&(!h||V&1024)&&re(y,b,$,$[10],h?oe(b,$[10],V,Ln):ae($[10]),ot);const N={};V&2&&(N.namespacedWritable=(Q=$[1])==null?void 0:Q.namespace("display")),!r&&V&1&&(r=!0,N.displayDataPointNames=$[0],ee(()=>r=!1)),o.$set(N);const U={};V&1024&&(U.$$scope={dirty:V,ctx:$}),a.$set(U),(!h||V&12&&c!==(c="timeline-settings"+($[3]?" open":" closed")+" "+((F=$[2])!=null?F:"")+" svelte-zwg04h"))&&f(e,"class",c)},i($){h||(v(i),v(y,$),v(o.$$.fragment,$),v(a.$$.fragment,$),h=!0)},o($){k(i),k(y,$),k(o.$$.fragment,$),k(a.$$.fragment,$),h=!1},d($){$&&w(e),g[t].d(),y&&y.d($),O(o),O(a),d=!1,m()}}}function Xn(n,e,t){var p;let i,{$$slots:s={},$$scope:l}=e,{namespacedWritable:o=void 0}=e,{class:r=""}=e,{displayDataPointNames:u}=e;const a=(p=o==null?void 0:o.make("isOpen",!1))!=null?p:Ie(!1);ve(n,a,g=>t(3,i=g));function c(){Ye(a,i=!1,i)}function h(){Ye(a,i=!0,i)}function d(g){ze.call(this,n,g)}function m(g){u=g,t(0,u)}return n.$$set=g=>{"namespacedWritable"in g&&t(1,o=g.namespacedWritable),"class"in g&&t(2,r=g.class),"displayDataPointNames"in g&&t(0,u=g.displayDataPointNames),"$$scope"in g&&t(10,l=g.$$scope)},[u,o,r,i,a,c,h,s,d,m,l]}class Zn extends K{constructor(e){super(),Y(this,e,Xn,Kn,B,{namespacedWritable:1,class:2,displayDataPointNames:0})}}function Un(n){let e,t,i;return{c(){e=z("line"),t=R(),i=z("line"),f(e,"x1","12"),f(e,"y1","5"),f(e,"x2","12"),f(e,"y2","19"),f(i,"x1","5"),f(i,"y1","12"),f(i,"x2","19"),f(i,"y2","12")},m(s,l){P(s,e,l),P(s,t,l),P(s,i,l)},p:L,d(s){s&&(w(e),w(t),w(i))}}}function Gn(n){let e,t;return e=new de({props:{$$slots:{default:[Un]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&128&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Hn(n){let e;return{c(){e=z("line"),f(e,"x1","5"),f(e,"y1","12"),f(e,"x2","19"),f(e,"y2","12")},m(t,i){P(t,e,i)},p:L,d(t){t&&w(e)}}}function Jn(n){let e,t;return e=new de({props:{$$slots:{default:[Hn]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&128&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Qn(n){let e,t,i,s,l,o,r;return{c(){e=z("path"),t=R(),i=z("path"),s=R(),l=z("path"),o=R(),r=z("path"),f(e,"d","M8 3H5a2 2 0 0 0-2 2v3"),f(i,"d","M21 8V5a2 2 0 0 0-2-2h-3"),f(l,"d","M3 16v3a2 2 0 0 0 2 2h3"),f(r,"d","M16 21h3a2 2 0 0 0 2-2v-3")},m(u,a){P(u,e,a),P(u,t,a),P(u,i,a),P(u,s,a),P(u,l,a),P(u,o,a),P(u,r,a)},p:L,d(u){u&&(w(e),w(t),w(i),w(s),w(l),w(o),w(r))}}}function xn(n){let e,t;return e=new de({props:{$$slots:{default:[Qn]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&128&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function ei(n){let e,t,i,s,l;return{c(){e=z("path"),t=R(),i=z("path"),s=R(),l=z("path"),f(e,"d","M3 19V5"),f(i,"d","m13 6-6 6 6 6"),f(l,"d","M7 12h14")},m(o,r){P(o,e,r),P(o,t,r),P(o,i,r),P(o,s,r),P(o,l,r)},p:L,d(o){o&&(w(e),w(t),w(i),w(s),w(l))}}}function ti(n){let e,t;return e=new de({props:{$$slots:{default:[ei]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&128&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function ni(n){let e,t,i;return{c(){e=z("path"),t=R(),i=z("path"),f(e,"d","m12 19-7-7 7-7"),f(i,"d","M19 12H5")},m(s,l){P(s,e,l),P(s,t,l),P(s,i,l)},p:L,d(s){s&&(w(e),w(t),w(i))}}}function ii(n){let e,t;return e=new de({props:{$$slots:{default:[ni]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&128&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function si(n){let e,t,i,s,l,o,r,u,a,c,h,d,m,p,g,_,b;return i=new ce({props:{"aria-label":"Zoom In",$$slots:{default:[Gn]},$$scope:{ctx:n}}}),i.$on("action",n[1]),o=new ce({props:{"aria-label":"Zoom Out",$$slots:{default:[Jn]},$$scope:{ctx:n}}}),o.$on("action",n[2]),a=new ce({props:{"aria-label":"Zoom to Fit",$$slots:{default:[xn]},$$scope:{ctx:n}}}),a.$on("action",n[3]),d=new ce({props:{"aria-label":"Scroll to Zero",$$slots:{default:[ti]},$$scope:{ctx:n}}}),d.$on("action",n[4]),g=new ce({props:{"aria-label":"Scroll to First",$$slots:{default:[ii]},$$scope:{ctx:n}}}),g.$on("action",n[5]),{c(){var y;e=C("menu"),t=C("li"),E(i.$$.fragment),s=R(),l=C("li"),E(o.$$.fragment),r=R(),u=C("li"),E(a.$$.fragment),c=R(),h=C("li"),E(d.$$.fragment),m=R(),p=C("li"),E(g.$$.fragment),f(t,"class","control-item svelte-rpvlcd"),f(l,"class","control-item svelte-rpvlcd"),f(u,"class","control-item svelte-rpvlcd"),f(h,"class","control-item svelte-rpvlcd"),f(p,"class","control-item svelte-rpvlcd"),f(e,"class",_="timeline-navigation-controls "+((y=n[0])!=null?y:""))},m(y,I){P(y,e,I),M(e,t),W(i,t,null),M(e,s),M(e,l),W(o,l,null),M(e,r),M(e,u),W(a,u,null),M(e,c),M(e,h),W(d,h,null),M(e,m),M(e,p),W(g,p,null),b=!0},p(y,[I]){var N;const D={};I&128&&(D.$$scope={dirty:I,ctx:y}),i.$set(D);const S={};I&128&&(S.$$scope={dirty:I,ctx:y}),o.$set(S);const $={};I&128&&($.$$scope={dirty:I,ctx:y}),a.$set($);const V={};I&128&&(V.$$scope={dirty:I,ctx:y}),d.$set(V);const A={};I&128&&(A.$$scope={dirty:I,ctx:y}),g.$set(A),(!b||I&1&&_!==(_="timeline-navigation-controls "+((N=y[0])!=null?N:"")))&&f(e,"class",_)},i(y){b||(v(i.$$.fragment,y),v(o.$$.fragment,y),v(a.$$.fragment,y),v(d.$$.fragment,y),v(g.$$.fragment,y),b=!0)},o(y){k(i.$$.fragment,y),k(o.$$.fragment,y),k(a.$$.fragment,y),k(d.$$.fragment,y),k(g.$$.fragment,y),b=!1},d(y){y&&w(e),O(i),O(o),O(a),O(d),O(g)}}}function li(n,e,t){let{navigation:i}=e,{class:s=""}=e;function l(){i.zoomIn()}function o(){i.zoomOut()}function r(){i.zoomToFit()}function u(){i.scrollToValue(0)}function a(){i.scrollToFirst()}return n.$$set=c=>{"navigation"in c&&t(6,i=c.navigation),"class"in c&&t(0,s=c.class)},[s,l,o,r,u,a,i]}class oi extends K{constructor(e){super(),Y(this,e,li,si,B,{navigation:6,class:0})}}const ri=n=>({}),rt=n=>({});function ai(n){let e;const t=n[3]["additional-settings"],i=le(t,n,n[5],rt);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l&32)&&re(i,t,s,s[5],e?oe(t,s[5],l,ri):ae(s[5]),rt)},i(s){e||(v(i,s),e=!0)},o(s){k(i,s),e=!1},d(s){i&&i.d(s)}}}function ui(n){var a;let e,t,i,s,l,o;t=new oi({props:{class:"control-group",navigation:n[2]}});function r(c){n[4](c)}let u={class:"control-group",namespacedWritable:(a=n[1])==null?void 0:a.namespace("settings"),$$slots:{"additional-settings":[ai]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.displayDataPointNames=n[0]),s=new Zn({props:u}),G.push(()=>te(s,"displayDataPointNames",r)),{c(){e=C("menu"),E(t.$$.fragment),i=R(),E(s.$$.fragment),f(e,"class","timeline-controls svelte-od4311")},m(c,h){P(c,e,h),W(t,e,null),M(e,i),W(s,e,null),o=!0},p(c,[h]){var p;const d={};h&4&&(d.navigation=c[2]),t.$set(d);const m={};h&2&&(m.namespacedWritable=(p=c[1])==null?void 0:p.namespace("settings")),h&32&&(m.$$scope={dirty:h,ctx:c}),!l&&h&1&&(l=!0,m.displayDataPointNames=c[0],ee(()=>l=!1)),s.$set(m)},i(c){o||(v(t.$$.fragment,c),v(s.$$.fragment,c),o=!0)},o(c){k(t.$$.fragment,c),k(s.$$.fragment,c),o=!1},d(c){c&&w(e),O(t),O(s)}}}function ci(n,e,t){let{$$slots:i={},$$scope:s}=e,{namespacedWritable:l=void 0}=e,{displayDataPointNames:o}=e,{navigation:r}=e;function u(a){o=a,t(0,o)}return n.$$set=a=>{"namespacedWritable"in a&&t(1,l=a.namespacedWritable),"displayDataPointNames"in a&&t(0,o=a.displayDataPointNames),"navigation"in a&&t(2,r=a.navigation),"$$scope"in a&&t(5,s=a.$$scope)},[o,l,r,i,u,s]}class fi extends K{constructor(e){super(),Y(this,e,ci,ui,B,{namespacedWritable:1,displayDataPointNames:0,navigation:2})}}class di{constructor(e,t,i,s){Z(this,"valuePerPixel");this.valuePerPixelProperty=e,this.items=t,this.setFocalValue=i,this.availableWidth=s,this.valuePerPixel=1,e.subscribe(l=>{this.valuePerPixel=l})}zoomIn(e){let t=Math.floor(Math.log10(this.valuePerPixel));const i=Math.pow(10,t);let s=Math.floor(this.valuePerPixel/i);s-=1,s===0&&(s=9,t-=1);const l=this.valuePerPixelProperty.set(s*Math.pow(10,t));if(e!=null){const{keepValue:o,at:r}=e;this.setFocalValue(()=>o-r*l)}}zoomOut(e){let t=Math.floor(Math.log10(this.valuePerPixel));const i=Math.pow(10,t);let s=Math.floor(this.valuePerPixel/i);s+=1,s===10&&(s=1,t+=1);const l=this.valuePerPixelProperty.set(s*Math.pow(10,t));if(e!=null){const{keepValue:o,at:r}=e;this.setFocalValue(()=>o-r*l)}}zoomToFit(){const e=et(this.items),t=this.minimumValue(e),s=this.maximumValue(e)-t;if(s===0){this.valuePerPixelProperty.set(1),this.setFocalValue(()=>t);return}this.valuePerPixelProperty.set(s/this.availableWidth());const l=this.centerValue(e);this.setFocalValue(()=>l)}scrollToFirst(){const e=this.minimumValue(et(this.items));this.scrollToValue(e)}scrollToValue(e){this.setFocalValue(()=>e)}minimumValue(e){let t;for(const i of e)(t===void 0||i<t)&&(t=i);return t===void 0&&(t=0),t}maximumValue(e){let t;for(const i of e)(t===void 0||i>t)&&(t=i);return t===void 0&&(t=0),t}centerValue(e){const t=this.minimumValue(e);return(this.maximumValue(e)-t)/2+t}}function mi(n,e,t,i){return new di(n,e,t,i)}function pi(n,e,t){return new Et(n,e,t)}class Et{constructor(e,t,i){this.item=e,this.x=t,this.y=i}id(){return this.item.id()}value(){return this.item.value()}name(){return this.item.name()}positionX(){return this.x}positionY(){return this.y}shiftedLeftBy(e){return new hi(this,e)}}class hi{constructor(e,t){this.original=e,this.shiftedBy=t}id(){return this.original.id()}value(){return this.original.value()}name(){return this.original.name()}positionX(){return this.original.positionX()+this.shiftedBy}positionY(){return this.original.positionY()}shiftedLeftBy(e){return pi(this.original,this.original.positionX()+e,this.original.positionY())}}function gi(n,e,t,i){Number.isNaN(e)&&(e=1);const s=t*2,l=[],o=[];for(const r of n){const u=r.value()/e;let a=-1;for(let c=0;c<o.length;c++)if(u-o[c]>=i){o[c]=u+s,a=c*(s+i);break}a===-1&&(a=o.length*(s+i),o.push(u+s)),l.push(new Et(r,u,a))}return l}function _i(n,e){const t=new Date(n),i=t.toLocaleDateString();return e<24*60*60*1e3?e<1e3?i+" "+t.toLocaleTimeString()+" "+t.getMilliseconds()+"ms":i+" "+t.toLocaleTimeString():i}class bi{constructor(){Z(this,"labelStepValue");this.labelStepValue=1001}displayValue(e){return _i(e,this.labelStepValue)}getSmallestLabelStepValue(e){const t={1e3:[1,2,5,10,20,50,100,200,500,1e3],12:[1,2,3,4,6,12],24:[1,2,3,4,6,12,24],60:[1,2,3,4,5,6,10,12,15,20,30,60],365:[1,2,73,365]},i={millisecond:1e3,second:60,minute:60,hour:24,day:365,year:1e3},s={millisecond:1,second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,year:365*24*60*60*1e3},l={millisecond:256,second:160,minute:160,hour:160,day:128,year:128};e:for(const[o,r]of Object.entries(i)){const u=t[r],a=s[o],h=l[o]*e;for(const d of u){const m=a*d;if(m>=h){this.labelStepValue=m;break e}}}return this.labelStepValue=Lt(128*e),this.labelStepValue}labels(e,t,i){return(e<1||Number.isNaN(e))&&(e=1),new Array(Math.ceil(e)).fill(0).map((l,o)=>i+o*t).map(l=>({text:this.displayValue(l),value:l}))}}function yi(){return new bi}const wi={labels(n,e,t){return(n<1||Number.isNaN(n))&&(n=1),new Array(Math.ceil(n)).fill(0).map((s,l)=>t+l*e).map(s=>({text:this.displayValue(s),value:s}))},getSmallestLabelStepValue(n){const t=64*n;return Lt(t)},displayValue(n){return n.toLocaleString()}};function Lt(n){const e=Math.floor(Math.log10(n)),t=Math.pow(10,e);return[1,2.5,5,10].map(s=>s*t).find(s=>Math.floor(s)===s&&s>n)}function vi(){return wi}class Pi{constructor(e,t){this.base=e,this.transform=t}[Symbol.iterator](){const e=this.base[Symbol.iterator]();let t=-1;return{next:()=>{t++;const{value:i,done:s}=e.next();return s?{value:null,done:s}:{value:this.transform(i,t)}}}}}function at(n,e){return new Pi(n,e)}function ki(n){let e,t,i;return{c(){e=C("div"),t=ue(n[0]),f(e,"class",i="label "+n[2]+" svelte-s3m838"),f(e,"data-value",n[0]),ie(e,"left",n[1]+"px")},m(s,l){P(s,e,l),M(e,t)},p(s,[l]){l&1&&me(t,s[0]),l&4&&i!==(i="label "+s[2]+" svelte-s3m838")&&f(e,"class",i),l&1&&f(e,"data-value",s[0]),l&2&&ie(e,"left",s[1]+"px")},i:L,o:L,d(s){s&&w(e)}}}function $i(n,e,t){let{text:i}=e,{position:s}=e,{class:l=""}=e;return n.$$set=o=>{"text"in o&&t(0,i=o.text),"position"in o&&t(1,s=o.position),"class"in o&&t(2,l=o.class)},[i,s,l]}class zt extends K{constructor(e){super(),Y(this,e,$i,ki,B,{text:0,position:1,class:2})}}function ut(n,e,t){const i=n.slice();return i[17]=e[t],i}function ct(n,e){let t,i,s;return i=new zt({props:{text:e[17].text,position:(e[17].value-e[1])/e[0]+e[2]/2}}),{key:n,first:null,c(){t=Re(),E(i.$$.fragment),this.first=t},m(l,o){P(l,t,o),W(i,l,o),s=!0},p(l,o){e=l;const r={};o&64&&(r.text=e[17].text),o&71&&(r.position=(e[17].value-e[1])/e[0]+e[2]/2),i.$set(r)},i(l){s||(v(i.$$.fragment,l),s=!0)},o(l){k(i.$$.fragment,l),s=!1},d(l){l&&w(t),O(i,l)}}}function ft(n){let e,t=n[4].value+"",i,s;return{c(){e=C("div"),i=ue(t),f(e,"class","mouse-position-tooltip svelte-15ugul4"),ie(e,"right",Math.min(n[2]-n[4].x,n[2]-n[5])+"px"),se(()=>n[14].call(e))},m(l,o){P(l,e,o),M(e,i),s=je(e,n[14].bind(e))},p(l,o){o&16&&t!==(t=l[4].value+"")&&me(i,t),o&52&&ie(e,"right",Math.min(l[2]-l[4].x,l[2]-l[5])+"px")},d(l){l&&w(e),s()}}}function Ni(n){let e,t,i,s=[],l=new Map,o,r,u,a,c,h;t=new zt({props:{class:"measurement",text:"1234567890-:/APM",position:0}});let d=Te(n[6]);const m=g=>g[17].value;for(let g=0;g<d.length;g+=1){let _=ut(n,d,g),b=m(_);l.set(b,s[g]=ct(b,_))}let p=n[4]!=null&&ft(n);return{c(){e=C("div"),E(t.$$.fragment),i=R();for(let g=0;g<s.length;g+=1)s[g].c();r=R(),p&&p.c(),u=Re(),f(e,"class","ruler svelte-15ugul4"),ie(e,"--label-width",n[3]+"px"),f(e,"role","slider"),f(e,"aria-valuemin",Number.NEGATIVE_INFINITY),f(e,"aria-valuemax",Number.POSITIVE_INFINITY),f(e,"aria-valuenow",n[1]),f(e,"tabindex","0"),se(()=>n[13].call(e))},m(g,_){P(g,e,_),W(t,e,null),M(e,i);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(e,null);o=je(e,n[13].bind(e)),P(g,r,_),p&&p.m(g,_),P(g,u,_),a=!0,c||(h=[X(e,"mousemove",n[7],!0),X(e,"mouseleave",n[8])],c=!0)},p(g,[_]){_&71&&(d=Te(g[6]),pe(),s=Wt(s,_,m,1,g,d,l,e,Ct,ct,null,ut),he()),(!a||_&8)&&ie(e,"--label-width",g[3]+"px"),(!a||_&2)&&f(e,"aria-valuenow",g[1]),g[4]!=null?p?p.p(g,_):(p=ft(g),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},i(g){if(!a){v(t.$$.fragment,g);for(let _=0;_<d.length;_+=1)v(s[_]);a=!0}},o(g){k(t.$$.fragment,g);for(let _=0;_<s.length;_+=1)k(s[_]);a=!1},d(g){g&&(w(e),w(r),w(u)),O(t);for(let _=0;_<s.length;_+=1)s[_].d();o(),p&&p.d(g),c=!1,J(h)}}}function Si(n,e){return Math.ceil(e/n)+1}function Ti(n,e,t){let i,s,l,o,r,{display:u}=e,{valuePerPixel:a}=e,{focalValue:c}=e,h=0;const d=Ce();function m(D,S,$){const V=D-h/2*S;return Math.floor(V/$)*$}let p;function g(D){const S=D.currentTarget;if(S==null||!("getBoundingClientRect"in S))return;let $=S.getBoundingClientRect();const V=D.pageX-$.left,A=h/2-V;let N=Math.floor(c-A*a);Object.is(N,-0)&&(N=0),t(4,p={value:u.displayValue(N),x:V}),d("mouseMeasurement",p)}function _(D){t(4,p=void 0),d("mouseMeasurement",p)}let b;function y(){h=this.clientWidth,t(2,h)}function I(){b=this.clientWidth,t(5,b)}return n.$$set=D=>{"display"in D&&t(9,u=D.display),"valuePerPixel"in D&&t(0,a=D.valuePerPixel),"focalValue"in D&&t(1,c=D.focalValue)},n.$$.update=()=>{n.$$.dirty&513&&t(11,i=u.getSmallestLabelStepValue(a)),n.$$.dirty&2049&&t(3,s=i/a),n.$$.dirty&12&&t(12,l=Si(s,h)),n.$$.dirty&2051&&t(10,o=m(c,a,i)),n.$$.dirty&7680&&t(6,r=u.labels(l,i,o))},[a,c,h,s,p,b,r,g,_,u,o,i,l,y,I]}class Mi extends K{constructor(e){super(),Y(this,e,Ti,Ni,B,{display:9,valuePerPixel:0,focalValue:1})}}function dt(n){let e,t;return{c(){e=C("div"),t=ue(n[2]),f(e,"class","display-name svelte-xyzncn")},m(i,s){P(i,e,s),M(e,t)},p(i,s){s&4&&me(t,i[2])},d(i){i&&w(e)}}}function Vi(n){let e,t,i,s,l=n[3]&&dt(n);return{c(){e=C("div"),l&&l.c(),f(e,"class","timeline-point svelte-xyzncn"),f(e,"style",n[1]),f(e,"role","link"),f(e,"tabindex",n[4]),f(e,"aria-label",n[5]),se(()=>n[9].call(e))},m(o,r){P(o,e,r),l&&l.m(e,null),t=je(e,n[9].bind(e)),i||(s=[X(e,"click",n[7]),X(e,"keydown",n[8])],i=!0)},p(o,[r]){o[3]?l?l.p(o,r):(l=dt(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null),r&2&&f(e,"style",o[1]),r&16&&f(e,"tabindex",o[4]),r&32&&f(e,"aria-label",o[5])},i:L,o:L,d(o){o&&w(e),l&&l.d(),t(),i=!1,J(s)}}}function Di(n,e,t){let i,{style:s=void 0}=e,{name:l}=e,{displayName:o}=e,{tabindex:r}=e,{value:u}=e,{measuredWidth:a=0}=e;function c(m){ze.call(this,n,m)}function h(m){ze.call(this,n,m)}function d(){a=this.clientWidth,t(0,a)}return n.$$set=m=>{"style"in m&&t(1,s=m.style),"name"in m&&t(2,l=m.name),"displayName"in m&&t(3,o=m.displayName),"tabindex"in m&&t(4,r=m.tabindex),"value"in m&&t(6,u=m.value),"measuredWidth"in m&&t(0,a=m.measuredWidth)},n.$$.update=()=>{n.$$.dirty&76&&t(5,i=o?u:`${l}
${u}`)},[a,s,l,o,r,i,u,c,h,d]}class Fi extends K{constructor(e){super(),Y(this,e,Di,Vi,B,{style:1,name:2,displayName:3,tabindex:4,value:6,measuredWidth:0})}}function mt(n,e,t){const i=n.slice();return i[25]=e[t],i[27]=t,i}function pt(n){let e;return{c(){e=C("div"),f(e,"class","measurement svelte-q2q2bv"),ie(e,"left",n[1].x+"px")},m(t,i){P(t,e,i)},p(t,i){i&2&&ie(e,"left",t[1].x+"px")},d(t){t&&w(e)}}}function ht(n,e){let t,i,s,l;function o(u){e[20](u)}let r={tabindex:e[27],name:e[25].name(),value:e[0].displayValue(e[25].value()),style:"top:"+e[25].positionY()+"px;left:"+(e[25].positionX()-e[6])+"px;",displayName:e[2]};return e[3]!==void 0&&(r.measuredWidth=e[3]),i=new Fi({props:r}),G.push(()=>te(i,"measuredWidth",o)),i.$on("click",e[9]),i.$on("keydown",e[10]),{key:n,first:null,c(){t=Re(),E(i.$$.fragment),this.first=t},m(u,a){P(u,t,a),W(i,u,a),l=!0},p(u,a){e=u;const c={};a&128&&(c.tabindex=e[27]),a&128&&(c.name=e[25].name()),a&129&&(c.value=e[0].displayValue(e[25].value())),a&192&&(c.style="top:"+e[25].positionY()+"px;left:"+(e[25].positionX()-e[6])+"px;"),a&4&&(c.displayName=e[2]),!s&&a&8&&(s=!0,c.measuredWidth=e[3],ee(()=>s=!1)),i.$set(c)},i(u){l||(v(i.$$.fragment,u),l=!0)},o(u){k(i.$$.fragment,u),l=!1},d(u){u&&w(t),O(i,u)}}}function Ii(n){let e,t,i=[],s=new Map,l,o,r,u,a=n[1]!=null&&pt(n),c=Te(n[7]);const h=d=>d[25].id();for(let d=0;d<c.length;d+=1){let m=mt(n,c,d),p=h(m);s.set(p,i[d]=ht(p,m))}return{c(){e=C("div"),a&&a.c(),t=R();for(let d=0;d<i.length;d+=1)i[d].c();f(e,"class","stage svelte-q2q2bv"),ie(e,"--margin-between-points",At+"px"),se(()=>n[22].call(e))},m(d,m){P(d,e,m),a&&a.m(e,null),M(e,t);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);n[21](e),l=je(e,n[22].bind(e)),o=!0,r||(u=X(e,"wheel",Dt(n[8]),{passive:!0,capture:!0}),r=!0)},p(d,[m]){d[1]!=null?a?a.p(d,m):(a=pt(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),m&1741&&(c=Te(d[7]),pe(),i=Wt(i,m,h,1,d,c,s,e,Ct,ht,null,mt),he())},i(d){if(!o){for(let m=0;m<c.length;m+=1)v(i[m]);o=!0}},o(d){for(let m=0;m<i.length;m+=1)k(i[m]);o=!1},d(d){d&&w(e),a&&a.d();for(let m=0;m<i.length;m+=1)i[m].d();n[21](null),l(),r=!1,u()}}}const At=4;function Ci(n,e,t){let i,s,l,o,r,u;const a=Ce();let{display:c}=e,{navigation:h}=e,{mouseMeasurement:d}=e,{valuePerPixel:m}=e,{focalValue:p}=e,{items:g}=e,{displayNames:_}=e,b=16,{width:y=0}=e,I=0,D;const S=new ResizeObserver(()=>{t(11,y=D.clientWidth-(D.scrollWidth-D.innerWidth))});cn(()=>{t(11,y=D.clientWidth-(D.scrollWidth-D.innerWidth)),S.observe(D)}),fn(()=>{S.disconnect()});function $(F){if(F.shiftKey&&h.scrollToValue(p+F.deltaY*m),F.ctrlKey){const j=F.offsetX-I/2,H=p+j*m;F.deltaY>0?h.zoomOut({keepValue:H,at:j,within:I}):F.deltaY<0&&h.zoomIn({keepValue:H,at:j,within:I})}}function V(F){const j=F.target;if(j==null||!("tabIndex"in j)||typeof j.tabIndex!="number")return;const H=s[j.tabIndex];a("selectItem",{item:H,causedBy:F})}function A(F){const j=F.target;if(j==null||!("tabIndex"in j)||typeof j.tabIndex!="number")return;const H=s[j.tabIndex];F.key==="Enter"&&a("selectItem",{item:H,causedBy:F})}function N(F){b=F,t(3,b)}function U(F){G[F?"unshift":"push"](()=>{D=F,t(5,D)})}function Q(){I=this.clientWidth,t(4,I)}return n.$$set=F=>{"display"in F&&t(0,c=F.display),"navigation"in F&&t(12,h=F.navigation),"mouseMeasurement"in F&&t(1,d=F.mouseMeasurement),"valuePerPixel"in F&&t(13,m=F.valuePerPixel),"focalValue"in F&&t(14,p=F.focalValue),"items"in F&&t(15,g=F.items),"displayNames"in F&&t(2,_=F.displayNames),"width"in F&&t(11,y=F.width)},n.$$.update=()=>{n.$$.dirty&8&&t(19,i=b/2),n.$$.dirty&32768&&t(18,s=g.toSorted((F,j)=>F.value()-j.value())),n.$$.dirty&794624&&t(7,l=gi(s,m,i,At)),n.$$.dirty&16&&t(16,o=I/2),n.$$.dirty&24576&&t(17,r=p/m),n.$$.dirty&196608&&t(6,u=r-o)},[c,d,_,b,I,D,u,l,$,V,A,y,h,m,p,g,o,r,s,i,N,U,Q]}class Wi extends K{constructor(e){super(),Y(this,e,Ci,Ii,B,{display:0,navigation:12,mouseMeasurement:1,valuePerPixel:13,focalValue:14,items:15,displayNames:2,width:11})}}const Oi=n=>({}),gt=n=>({});function Ei(n){let e;const t=n[14]["additional-settings"],i=le(t,n,n[19],gt);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l&524288)&&re(i,t,s,s[19],e?oe(t,s[19],l,Oi):ae(s[19]),gt)},i(s){e||(v(i,s),e=!0)},o(s){k(i,s),e=!1},d(s){i&&i.d(s)}}}function Li(n){var p;let e,t,i,s,l,o,r,u,a;t=new Mi({props:{display:n[6],valuePerPixel:n[7],focalValue:n[1]}}),t.$on("mouseMeasurement",n[15]);function c(g){n[16](g)}let h={display:n[6],mouseMeasurement:n[5],items:n[3],displayNames:n[0],valuePerPixel:n[7],focalValue:n[1],navigation:n[9]};n[4]!==void 0&&(h.width=n[4]),s=new Wi({props:h}),G.push(()=>te(s,"width",c)),s.$on("selectItem",n[17]);function d(g){n[18](g)}let m={namespacedWritable:(p=n[2])==null?void 0:p.namespace("controls"),navigation:n[9],$$slots:{"additional-settings":[Ei]},$$scope:{ctx:n}};return n[0]!==void 0&&(m.displayDataPointNames=n[0]),r=new fi({props:m}),G.push(()=>te(r,"displayDataPointNames",d)),{c(){e=C("div"),E(t.$$.fragment),i=R(),E(s.$$.fragment),o=R(),E(r.$$.fragment),f(e,"class","timeline svelte-zh2vtz")},m(g,_){P(g,e,_),W(t,e,null),M(e,i),W(s,e,null),M(e,o),W(r,e,null),a=!0},p(g,[_]){var D;const b={};_&64&&(b.display=g[6]),_&128&&(b.valuePerPixel=g[7]),_&2&&(b.focalValue=g[1]),t.$set(b);const y={};_&64&&(y.display=g[6]),_&32&&(y.mouseMeasurement=g[5]),_&8&&(y.items=g[3]),_&1&&(y.displayNames=g[0]),_&128&&(y.valuePerPixel=g[7]),_&2&&(y.focalValue=g[1]),!l&&_&16&&(l=!0,y.width=g[4],ee(()=>l=!1)),s.$set(y);const I={};_&4&&(I.namespacedWritable=(D=g[2])==null?void 0:D.namespace("controls")),_&524288&&(I.$$scope={dirty:_,ctx:g}),!u&&_&1&&(u=!0,I.displayDataPointNames=g[0],ee(()=>u=!1)),r.$set(I)},i(g){a||(v(t.$$.fragment,g),v(s.$$.fragment,g),v(r.$$.fragment,g),a=!0)},o(g){k(t.$$.fragment,g),k(s.$$.fragment,g),k(r.$$.fragment,g),a=!1},d(g){g&&w(e),O(t),O(s),O(r)}}}function zi(n,e,t){let i,s,{$$slots:l={},$$scope:o}=e,{namespacedWritable:r=void 0}=e,{items:u}=e,{displayDataPointNames:a}=e,{displayPropertyAs:c}=e,{focalValue:h=0}=e,{scale:d=1}=e;function m(N=1){function U(j){return Number.isNaN(j)?.015625:Math.max(.015625,j)}const{subscribe:Q,set:F}=Ie(U(N));return{subscribe:Q,set:j=>{const H=U(j);return F(H),t(10,d=H),H}}}const p=m(d);ve(n,p,N=>t(7,s=N));let g,_,b=Ie(at(u,N=>N.value()));const y=mi(p,wn(b),N=>{const U=N(h);U!=h&&t(1,h=U)},()=>_);function I(){y.zoomToFit()}let D=!1;const S=N=>t(5,g=N.detail);function $(N){_=N,t(4,_)}function V(N){ze.call(this,n,N)}function A(N){a=N,t(0,a)}return n.$$set=N=>{"namespacedWritable"in N&&t(2,r=N.namespacedWritable),"items"in N&&t(3,u=N.items),"displayDataPointNames"in N&&t(0,a=N.displayDataPointNames),"displayPropertyAs"in N&&t(11,c=N.displayPropertyAs),"focalValue"in N&&t(1,h=N.focalValue),"scale"in N&&t(10,d=N.scale),"$$scope"in N&&t(19,o=N.$$scope)},n.$$.update=()=>{n.$$.dirty&1024&&Ye(p,s=d,s),n.$$.dirty&8&&b.set(at(u,N=>N.value())),n.$$.dirty&8208&&(D||_>0&&(y.zoomToFit(),t(13,D=!0))),n.$$.dirty&2048&&t(6,i=c==="date"?yi():vi())},[a,h,r,u,_,g,i,s,p,y,d,c,I,D,l,S,$,V,A,o]}class Ai extends K{constructor(e){super(),Y(this,e,zi,Li,B,{namespacedWritable:2,items:3,displayDataPointNames:0,displayPropertyAs:11,focalValue:1,scale:10,zoomToFit:12})}get zoomToFit(){return this.$$.ctx[12]}}class Ri{constructor(e,t){this.file=e,this.propertySelection=t}id(){return this.file.path}value(){return this.propertySelection.selectProperty(this.file)}name(){return this.file.basename}}const ji=["aliases","multitext","tags","datetime","date","number","checkbox","text"];function Bi(n){return ji.includes(n)}const Rt=Object.freeze({created:"datetime",modified:"datetime"});function qi(n,e){return new Yi(n,e)}class Yi{constructor(e,t){Z(this,"subscriptions",{"property-created":[],"property-type-changed":[],"property-removed":[]});Z(this,"knownProperties");this.vault=e,this.metadataCache=t,this.knownProperties=Rt,_t(e).then(i=>{this.knownProperties=i})}metadataChanged(e){const t=this.knownProperties;if(t==null)return;const i=this.metadataCache.getFileCache(e);if(i!=null&&i.frontmatter!=null){for(const s of Object.keys(i.frontmatter))if(!(s in t)){this.loadRegisteredTypes();break}}}async loadRegisteredTypes(){const e=this.listKnownProperties(),t=await _t(this.vault);let i=[];for(const s of Object.keys(t)){const l=t[s];if(s in e){const o=e[s];l!=o&&i.push(()=>{this.subscriptions["property-type-changed"].forEach(r=>{r(s,o,l)})})}else i.push(()=>{this.subscriptions["property-created"].forEach(o=>{o(s,l)})})}for(const s of Object.keys(e))if(!(s in t)){const l=e[s];i.push(()=>{this.subscriptions["property-removed"].forEach(o=>{o(s,l)})})}this.knownProperties=t,i.forEach(s=>s())}listKnownProperties(){return this.knownProperties}on(e,t){const i=this.subscriptions[e];return i.push(t),()=>{i.remove(t)}}}async function _t(n){const e={...Rt},t=await n.adapter.read(".obsidian/types.json"),i=JSON.parse(t);if(!("types"in i))return e;const s=i.types;if(s===null||typeof s!="object")return e;for(const[l,o]of Object.entries(s))Bi(o)&&(e[l]=o);return e}function Ki(n,e){let t=!0;const i=Object.entries(n);for(const[l,o]of i)if(!e.includes(o)){t=!1;break}if(t)return n;const s={};for(const[l,o]of i)e.includes(o)&&(s[l]=o);return s}function Xi(n){let e,t,i;const s=n[2].default,l=le(s,n,n[1],null);let o=[n[0],{class:t="row"+(n[0].class?` ${n[0].class}`:"")}],r={};for(let u=0;u<o.length;u+=1)r=x(r,o[u]);return{c(){e=C("div"),l&&l.c(),Ne(e,r),Se(e,"svelte-gabo5f",!0)},m(u,a){P(u,e,a),l&&l.m(e,null),i=!0},p(u,[a]){l&&l.p&&(!i||a&2)&&re(l,s,u,u[1],i?oe(s,u[1],a,null):ae(u[1]),null),Ne(e,r=Je(o,[a&1&&u[0],(!i||a&1&&t!==(t="row"+(u[0].class?` ${u[0].class}`:"")))&&{class:t}])),Se(e,"svelte-gabo5f",!0)},i(u){i||(v(l,u),i=!0)},o(u){k(l,u),i=!1},d(u){u&&w(e),l&&l.d(u)}}}function Zi(n,e,t){const i=[];let s=$e(e,i),{$$slots:l={},$$scope:o}=e;return n.$$set=r=>{e=x(x({},e),Ue(r)),t(0,s=$e(e,i)),"$$scope"in r&&t(1,o=r.$$scope)},[s,o,l]}class Ui extends K{constructor(e){super(),Y(this,e,Zi,Xi,B,{})}}const{Boolean:Gi}=Jt;function bt(n,e,t){const i=n.slice();return i[18]=e[t],i[20]=t,i}const Hi=n=>({}),yt=n=>({index:n[20]}),Ji=n=>({}),wt=n=>({});function vt(n){let e,t,i,s=Te(new Array(n[0]).fill(0)),l=[];for(let r=0;r<s.length;r+=1)l[r]=Pt(bt(n,s,r));const o=r=>k(l[r],1,1,()=>{l[r]=null});return{c(){e=C("dialog"),t=C("ul");for(let r=0;r<l.length;r+=1)l[r].c();f(t,"role","listbox"),f(t,"class","svelte-1c1nzjf"),e.open=n[2],f(e,"class","select-dropdown svelte-1c1nzjf")},m(r,u){P(r,e,u),M(e,t);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,null);n[13](e),i=!0},p(r,u){if(u&1025){s=Te(new Array(r[0]).fill(0));let a;for(a=0;a<s.length;a+=1){const c=bt(r,s,a);l[a]?(l[a].p(c,u),v(l[a],1)):(l[a]=Pt(c),l[a].c(),v(l[a],1),l[a].m(t,null))}for(pe(),a=s.length;a<l.length;a+=1)o(a);he()}(!i||u&4)&&(e.open=r[2])},i(r){if(!i){for(let u=0;u<s.length;u+=1)v(l[u]);i=!0}},o(r){l=l.filter(Gi);for(let u=0;u<l.length;u+=1)k(l[u]);i=!1},d(r){r&&w(e),en(l,r),n[13](null)}}}function Pt(n){let e;const t=n[11].item,i=le(t,n,n[10],yt);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l&1024)&&re(i,t,s,s[10],e?oe(t,s[10],l,Hi):ae(s[10]),yt)},i(s){e||(v(i,s),e=!0)},o(s){k(i,s),e=!1},d(s){i&&i.d(s)}}}function Qi(n){let e,t,i,s,l,o,r;const u=n[11].display,a=le(u,n,n[10],wt);let c=[n[7],{"aria-disabled":n[5]},{disabled:t=!!n[5]},{role:"combobox"},{"aria-labelledby":"select button"},{"aria-haspopup":"listbox"},{"aria-expanded":n[2]},{"aria-controls":"select-dropdown"}],h={};for(let m=0;m<c.length;m+=1)h=x(h,c[m]);let d=(n[2]||!1)&&vt(n);return{c(){e=C("button"),a&&a.c(),i=R(),d&&d.c(),s=Re(),Ne(e,h),Se(e,"select",!0)},m(m,p){P(m,e,p),a&&a.m(e,null),e.autofocus&&e.focus(),n[12](e),P(m,i,p),d&&d.m(m,p),P(m,s,p),l=!0,o||(r=[X(e,"click",n[1]),X(e,"focusout",n[6])],o=!0)},p(m,[p]){a&&a.p&&(!l||p&1024)&&re(a,u,m,m[10],l?oe(u,m[10],p,Ji):ae(m[10]),wt),Ne(e,h=Je(c,[p&128&&m[7],{"aria-disabled":m[5]},{disabled:t},{role:"combobox"},{"aria-labelledby":"select button"},{"aria-haspopup":"listbox"},(!l||p&4)&&{"aria-expanded":m[2]},{"aria-controls":"select-dropdown"}])),Se(e,"select",!0),m[2]?d?(d.p(m,p),p&4&&v(d,1)):(d=vt(m),d.c(),v(d,1),d.m(s.parentNode,s)):d&&(pe(),k(d,1,1,()=>{d=null}),he())},i(m){l||(v(a,m),v(d),l=!0)},o(m){k(a,m),k(d),l=!1},d(m){m&&(w(e),w(i),w(s)),a&&a.d(m),n[12](null),d&&d.d(m),o=!1,J(r)}}}function xi(n,e){let t=n;for(;t!=null;){if(t==e)return!0;t=t.parentElement}return!1}function es(n,e,t){const i=["itemCount","show","hide","toggleShown"];let s=$e(e,i),{$$slots:l={},$$scope:o}=e;const r=Ce();let{itemCount:u=0}=e,{"aria-disabled":a}=s,c=!1,h,d;function m(S){!a&&!c&&u>0&&r("showing",S,{cancelable:!0})&&(h!=null&&(d=h.getBoundingClientRect()),t(2,c=!0),r("shown",S))}function p(S){!a&&c&&r("hiding",S,{cancelable:!0})&&(t(2,c=!1),r("hidden",S))}function g(S){c?p(S):m(S)}let _;function b(S){S.parentElement!=document.body&&document.body.appendChild(S);const{width:$,height:V}=window.visualViewport,A=S.getBoundingClientRect();d!=null?S.setCssStyles({left:`${Math.min(d.x,$-A.width)}px`,top:`${Math.min(d.y+d.height,V-A.height)}px`,width:d.width>A.width?`${d.width}px`:void 0}):S.setCssStyles({left:`${Math.max(0,($-A.width)/2)}px`,top:`${Math.max(0,(V-A.height)/2)}px`})}function y(S){if(_==null)return;const $=S.relatedTarget;$==null||!($ instanceof Node)||!xi($,_)?p():h!=null&&h.focus()}function I(S){G[S?"unshift":"push"](()=>{h=S,t(4,h)})}function D(S){G[S?"unshift":"push"](()=>{_=S,t(3,_)})}return n.$$set=S=>{e=x(x({},e),Ue(S)),t(7,s=$e(e,i)),"itemCount"in S&&t(0,u=S.itemCount),"$$scope"in S&&t(10,o=S.$$scope)},n.$$.update=()=>{n.$$.dirty&4,n.$$.dirty&12&&c&&_!=null&&b(_)},[u,g,c,_,h,a,y,s,m,p,o,l,I,D]}class ts extends K{constructor(e){super(),Y(this,e,es,Qi,B,{itemCount:0,show:8,hide:9,toggleShown:1})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[9]}get toggleShown(){return this.$$.ctx[1]}}function ns(n){let e,t,i;return{c(){e=z("svg"),t=z("circle"),i=z("polyline"),f(t,"cx","12"),f(t,"cy","12"),f(t,"r","10"),f(i,"points","12 6 12 12 16 14"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"class","svg-icon lucide-clock")},m(s,l){P(s,e,l),M(e,t),M(e,i)},p:L,i:L,o:L,d(s){s&&w(e)}}}class is extends K{constructor(e){super(),Y(this,e,null,ns,B,{})}}function ss(n){let e,t,i,s,l;return{c(){e=z("svg"),t=z("rect"),i=z("line"),s=z("line"),l=z("line"),f(t,"x","3"),f(t,"y","4"),f(t,"width","18"),f(t,"height","18"),f(t,"rx","2"),f(t,"ry","2"),f(i,"x1","16"),f(i,"y1","2"),f(i,"x2","16"),f(i,"y2","6"),f(s,"x1","8"),f(s,"y1","2"),f(s,"x2","8"),f(s,"y2","6"),f(l,"x1","3"),f(l,"y1","10"),f(l,"x2","21"),f(l,"y2","10"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"class","svg-icon lucide-calendar")},m(o,r){P(o,e,r),M(e,t),M(e,i),M(e,s),M(e,l)},p:L,i:L,o:L,d(o){o&&w(e)}}}class ls extends K{constructor(e){super(),Y(this,e,null,ss,B,{})}}function os(n){let e,t,i,s,l,o,r;return{c(){e=z("svg"),t=z("path"),i=z("path"),s=z("path"),l=z("path"),o=z("rect"),r=z("rect"),f(t,"d","M6 20h4"),f(i,"d","M14 10h4"),f(s,"d","M6 14h2v6"),f(l,"d","M14 4h2v6"),f(o,"x","6"),f(o,"y","4"),f(o,"width","4"),f(o,"height","6"),f(r,"x","14"),f(r,"y","14"),f(r,"width","4"),f(r,"height","6"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"stroke-width","2"),f(e,"stroke-linecap","round"),f(e,"stroke-linejoin","round"),f(e,"class","svg-icon lucide-binary")},m(u,a){P(u,e,a),M(e,t),M(e,i),M(e,s),M(e,l),M(e,o),M(e,r)},p:L,i:L,o:L,d(u){u&&w(e)}}}class rs extends K{constructor(e){super(),Y(this,e,null,os,B,{})}}function as(n){let e,t;return e=new rs({}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function us(n){let e,t;return e=new ls({}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function cs(n){let e,t;return e=new is({}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function fs(n){let e,t,i,s,l,o,r,u,a,c,h,d;const m=[cs,us,as],p=[];function g(_,b){return _[3]==="datetime"?0:_[3]==="date"?1:_[3]==="number"?2:-1}return~(s=g(n))&&(l=p[s]=m[s](n)),{c(){e=C("div"),t=C("div"),i=C("span"),l&&l.c(),o=R(),r=C("div"),u=C("div"),a=ue(n[2]),f(i,"class","suggestion-flair"),f(t,"class","suggestion-icon"),f(u,"class","suggestion-title"),f(r,"class","suggestion-content"),f(e,"class","suggestion-item mod-complex"),f(e,"aria-selected",n[0]),f(e,"role","option"),f(e,"tabindex",n[1]),Se(e,"is-selected",n[0])},m(_,b){P(_,e,b),M(e,t),M(t,i),~s&&p[s].m(i,null),M(e,o),M(e,r),M(r,u),M(u,a),c=!0,h||(d=[X(e,"mouseenter",n[5]),X(e,"focusin",n[6]),X(e,"click",n[7]),X(e,"keydown",n[8])],h=!0)},p(_,[b]){let y=s;s=g(_),s!==y&&(l&&(pe(),k(p[y],1,1,()=>{p[y]=null}),he()),~s?(l=p[s],l||(l=p[s]=m[s](_),l.c()),v(l,1),l.m(i,null)):l=null),(!c||b&4)&&me(a,_[2]),(!c||b&1)&&f(e,"aria-selected",_[0]),(!c||b&2)&&f(e,"tabindex",_[1]),(!c||b&1)&&Se(e,"is-selected",_[0])},i(_){c||(v(l),c=!0)},o(_){k(l),c=!1},d(_){_&&w(e),~s&&p[s].d(),h=!1,J(d)}}}function ds(n,e,t){const i=Ce();let{selected:s}=e,{index:l}=e,{name:o}=e,{type:r}=e;const u=()=>i("consider",l),a=()=>i("consider",l),c=()=>i("select",l),h=d=>d.key==="Enter"?i("select",l):null;return n.$$set=d=>{"selected"in d&&t(0,s=d.selected),"index"in d&&t(1,l=d.index),"name"in d&&t(2,o=d.name),"type"in d&&t(3,r=d.type)},[s,l,o,r,i,u,a,c,h]}class ms extends K{constructor(e){super(),Y(this,e,ds,fs,B,{selected:0,index:1,name:2,type:3})}}function ps(n){let e;return{c(){e=ue(n[0])},m(t,i){P(t,e,i)},p(t,i){i&1&&me(e,t[0])},d(t){t&&w(e)}}}function hs(n){let e,t;return e=new ms({props:{slot:"item",index:n[9],selected:n[4]===n[9],name:n[2][n[9]],type:n[1][n[2][n[9]]]}}),e.$on("select",n[6]),e.$on("consider",n[7]),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s&512&&(l.index=i[9]),s&528&&(l.selected=i[4]===i[9]),s&516&&(l.name=i[2][i[9]]),s&518&&(l.type=i[1][i[2][i[9]]]),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function gs(n){let e,t,i={class:"dropdown",itemCount:n[5],$$slots:{item:[hs,({index:s})=>({9:s}),({index:s})=>s?512:0],display:[ps]},$$scope:{ctx:n}};return e=new ts({props:i}),n[8](e),{c(){E(e.$$.fragment)},m(s,l){W(e,s,l),t=!0},p(s,[l]){const o={};l&32&&(o.itemCount=s[5]),l&1559&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){n[8](null),O(e,s)}}}function _s(n,e,t){let i,s,l,{options:o}=e,{selectedProperty:r}=e,u;function a(d){t(0,r=i[d.detail]),u!=null&&u.hide(d)}function c(d){t(4,l=d.detail)}function h(d){G[d?"unshift":"push"](()=>{u=d,t(3,u)})}return n.$$set=d=>{"options"in d&&t(1,o=d.options),"selectedProperty"in d&&t(0,r=d.selectedProperty)},n.$$.update=()=>{n.$$.dirty&2&&t(2,i=Object.keys(o)),n.$$.dirty&4&&t(5,s=i.length),n.$$.dirty&5&&t(4,l=i.indexOf(r))},[r,o,i,u,l,s,a,c,h]}class bs extends K{constructor(e){super(),Y(this,e,_s,gs,B,{options:1,selectedProperty:0})}}function ys(n,e,t){if(n===void 0)return ws;if(n.toLocaleLowerCase()==="created")return vs;if(n.toLocaleLowerCase()==="modified")return Ps;if(n in e){const i=e[n];return i==="date"||i==="datetime"?new ks(t,n):new $s(t,n)}return new Ns(t,n)}const ws={selectProperty(n){return 0}},vs={selectProperty(n){return n.stat.ctime}},Ps={selectProperty(n){return n.stat.mtime}};class ks{constructor(e,t){this.metadataCache=e,this.property=t}selectProperty(e){var o;const t=(o=this.metadataCache.getFileCache(e))==null?void 0:o.frontmatter;if(t==null)return 0;const i=t[this.property];return i==null?0:new Date(i).valueOf()}}class $s{constructor(e,t){this.metadataCache=e,this.property=t}selectProperty(e){var s;const t=(s=this.metadataCache.getFileCache(e))==null?void 0:s.frontmatter;if(t==null)return 0;const i=t[this.property];return i==null?0:typeof i=="string"?parseInt(i):i}}class Ns{constructor(e,t){this.metadataCache=e,this.property=t}selectProperty(e){var l;const t=(l=this.metadataCache.getFileCache(e))==null?void 0:l.frontmatter;if(t==null)return 0;const i=t[this.property];if(i==null)return 0;const s=typeof i;return console.log("type of",i,"is",s),s==="number"||s==="bigint"?i:s==="string"?parseFloat(i):(console.warn(`Didn't understand how to work with "${s}."`,i,"constructor: ",i==null?void 0:i.constructor),0)}}function Ss(n){let e,t,i,s,l;function o(u){n[24](u)}let r={options:n[1]};return n[3]!==void 0&&(r.selectedProperty=n[3]),i=new bs({props:r}),G.push(()=>te(i,"selectedProperty",o)),{c(){e=C("label"),e.textContent="Name",t=R(),E(i.$$.fragment),f(e,"for","orderPropertySelect")},m(u,a){P(u,e,a),P(u,t,a),W(i,u,a),l=!0},p(u,a){const c={};a[0]&2&&(c.options=u[1]),!s&&a[0]&8&&(s=!0,c.selectedProperty=u[3],ee(()=>s=!1)),i.$set(c)},i(u){l||(v(i.$$.fragment,u),l=!0)},o(u){k(i.$$.fragment,u),l=!1},d(u){u&&(w(e),w(t)),O(i,u)}}}function Ts(n){let e,t;return e=new Ui({props:{$$slots:{default:[Ss]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const l={};s[0]&10|s[1]&2&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){O(e,i)}}}function Ms(n){let e;return{c(){e=C("span"),e.textContent="Coming Soon!"},m(t,i){P(t,e,i)},p:L,d(t){t&&w(e)}}}function Vs(n){let e;return{c(){e=C("span"),e.textContent="Coming Soon!"},m(t,i){P(t,e,i)},p:L,d(t){t&&w(e)}}}function Ds(n){let e,t,i,s,l,o,r;function u(c){n[25](c)}let a={name:"Property",$$slots:{default:[Ts]},$$scope:{ctx:n}};return n[7]!==void 0&&(a.collapsed=n[7]),e=new De({props:a}),G.push(()=>te(e,"collapsed",u)),s=new De({props:{name:"Filter",$$slots:{default:[Ms]},$$scope:{ctx:n}}}),o=new De({props:{name:"Groups",$$slots:{default:[Vs]},$$scope:{ctx:n}}}),{c(){E(e.$$.fragment),i=R(),E(s.$$.fragment),l=R(),E(o.$$.fragment)},m(c,h){W(e,c,h),P(c,i,h),W(s,c,h),P(c,l,h),W(o,c,h),r=!0},p(c,h){const d={};h[0]&10|h[1]&2&&(d.$$scope={dirty:h,ctx:c}),!t&&h[0]&128&&(t=!0,d.collapsed=c[7],ee(()=>t=!1)),e.$set(d);const m={};h[1]&2&&(m.$$scope={dirty:h,ctx:c}),s.$set(m);const p={};h[1]&2&&(p.$$scope={dirty:h,ctx:c}),o.$set(p)},i(c){r||(v(e.$$.fragment,c),v(s.$$.fragment,c),v(o.$$.fragment,c),r=!0)},o(c){k(e.$$.fragment,c),k(s.$$.fragment,c),k(o.$$.fragment,c),r=!1},d(c){c&&(w(i),w(l)),O(e,c),O(s,c),O(o,c)}}}function Fs(n){let e,t,i;function s(o){n[26](o)}let l={namespacedWritable:n[0],displayPropertyAs:n[5],items:n[4],$$slots:{"additional-settings":[Ds]},$$scope:{ctx:n}};return n[6]!==void 0&&(l.displayDataPointNames=n[6]),e=new Ai({props:l}),G.push(()=>te(e,"displayDataPointNames",s)),n[27](e),e.$on("selectItem",n[28]),{c(){E(e.$$.fragment)},m(o,r){W(e,o,r),i=!0},p(o,r){const u={};r[0]&1&&(u.namespacedWritable=o[0]),r[0]&32&&(u.displayPropertyAs=o[5]),r[0]&16&&(u.items=o[4]),r[0]&138|r[1]&2&&(u.$$scope={dirty:r,ctx:o}),!t&&r[0]&64&&(t=!0,u.displayDataPointNames=o[6],ee(()=>t=!1)),e.$set(u)},i(o){i||(v(e.$$.fragment,o),i=!0)},o(o){k(e.$$.fragment,o),i=!1},d(o){n[27](null),O(e,o)}}}function Is(n,e,t){let i,s,l,o,r,u,{namespacedWritable:a}=e,{app:c}=e,{properties:h}=e,d=a.make("orderProperty","created");ve(n,d,T=>t(3,o=T));const m=["number","date","datetime"];let p={created:"datetime",modified:"datetime",...Ki(h.listKnownProperties(),m)},g=a.make("displayNoteNames",!1);ve(n,g,T=>t(6,r=T));function _(T){if(T===void 0)return"numeric";if(T.toLocaleLowerCase()==="created")return"date";if(T.toLocaleLowerCase()==="modified")return"date";if(T in p){const q=p[T];return q==="date"||q==="datetime"?"date":"numeric"}return"numeric"}let b=c.vault.getMarkdownFiles();function y(T,q){const ge=c.vault.getAbstractFileByPath(q.id());if(ge==null||!(ge instanceof fe.TFile))return;const Qe=T instanceof MouseEvent||T instanceof KeyboardEvent?T:null;c.workspace.getLeaf(Qe?fe.Keymap.isModEvent(Qe):"tab").openFile(ge)}function I(T){b.push(T),t(21,b)}function D(T){t(21,b=b.filter(q=>q.path!==T.path))}function S(T){t(21,b=b.map(q=>q.path===T.path?T:q))}function $(T,q){t(21,b=b.map(ge=>ge.path===q?T:ge))}let V=Object.keys(p);function A(T,q){(q==="number"||q==="date"||q==="datetime")&&(t(1,p[T]=q,p),V.push(T),t(1,p),V=V)}function N(T){T in p&&(delete p[T],V.remove(T),t(1,p),V=V)}function U(T,q){(q==="number"||q==="date"||q==="datetime"&&T in p)&&(t(1,p[T]=q,p),t(1,p))}let Q,F=o,j=a.namespace("controls").namespace("settings").namespace("property").make("collapsed",!0);ve(n,j,T=>t(7,u=T));function H(T){o=T,d.set(o)}function jt(T){u=T,j.set(u)}function Bt(T){r=T,g.set(r)}function qt(T){G[T?"unshift":"push"](()=>{Q=T,t(2,Q)})}const Yt=T=>y(T.detail.causedBy,T.detail.item);return n.$$set=T=>{"namespacedWritable"in T&&t(0,a=T.namespacedWritable),"app"in T&&t(12,c=T.app),"properties"in T&&t(13,h=T.properties)},n.$$.update=()=>{n.$$.dirty[0]&8&&t(5,i=_(o)),n.$$.dirty[0]&4106&&t(23,s=ys(o,p,c.metadataCache)),n.$$.dirty[0]&10485760&&t(4,l=b.map(T=>new Ri(T,s))),n.$$.dirty[0]&4194316&&Q&&F!=o&&(Q.zoomToFit(),t(22,F=o))},[a,p,Q,o,l,i,r,u,d,g,y,j,c,h,I,D,S,$,A,N,U,b,F,s,H,jt,Bt,qt,Yt]}class Cs extends K{constructor(e){super(),Y(this,e,Is,Fs,B,{namespacedWritable:0,app:12,properties:13,addFile:14,deleteFile:15,modifyFile:16,renameFile:17,addProperty:18,removeProperty:19,changePropertyType:20},null,[-1,-1])}get addFile(){return this.$$.ctx[14]}get deleteFile(){return this.$$.ctx[15]}get modifyFile(){return this.$$.ctx[16]}get renameFile(){return this.$$.ctx[17]}get addProperty(){return this.$$.ctx[18]}get removeProperty(){return this.$$.ctx[19]}get changePropertyType(){return this.$$.ctx[20]}}const Ae=class Ae extends fe.ItemView{constructor(t,i,s){super(t);Z(this,"leafId");Z(this,"stateLoader");Z(this,"state");Z(this,"component");Z(this,"subscriptions");this.guiStore=i,this.obsidian=s,"id"in t&&typeof t.id=="string"&&(this.leafId=t.id),this.component=null,this.subscriptions=null,this.stateLoader=Promise.resolve(null),this.state=null}getViewType(){return Ae.viewType}getDisplayText(){return"Timeline view"}async onload(){this.stateLoader=Promise.resolve(null),this.leafId!=null&&(this.stateLoader=this.guiStore.getStateForLeaf(this.leafId))}async onOpen(){const t=this.containerEl.children[1];t.empty(),t.setAttribute("style","padding:0;position: relative;overflow-x:hidden;"),this.state=await this.stateLoader;const i={set:s=>{this.state=s,this.leafId!=null&&this.guiStore.saveLeafState(this.leafId,s)},subscribe:(s,l)=>{var o;return s((o=this.state)!=null?o:{}),()=>{var r;l!=null&&l((r=this.state)!=null?r:void 0)}},update:s=>{var l;i.set(s((l=this.state)!=null?l:{}))}};this.component=new Cs({target:t,props:{app:this.app,namespacedWritable:Ot("",i),properties:this.obsidian.vault.properties}}),this.subscriptions=[this.obsidian.vault.files.on("created",s=>{var l;(l=this.component)==null||l.addFile(s)}),this.obsidian.vault.files.on("deleted",s=>{var l;(l=this.component)==null||l.deleteFile(s)}),this.obsidian.vault.files.on("renamed",(s,l)=>{var o;(o=this.component)==null||o.renameFile(s,l)}),this.obsidian.vault.files.on("modified",s=>{var l;(l=this.component)==null||l.modifyFile(s)}),this.obsidian.vault.properties.on("property-created",(s,l)=>{var o;(o=this.component)==null||o.addProperty(s,l)}),this.obsidian.vault.properties.on("property-removed",s=>{var l;(l=this.component)==null||l.removeProperty(s)}),this.obsidian.vault.properties.on("property-type-changed",(s,l,o)=>{var r;(r=this.component)==null||r.changePropertyType(s,o)})]}async onClose(){this.subscriptions!=null&&this.subscriptions.forEach(t=>t()),this.component!=null&&this.component.$destroy(),this.leafId!=null&&this.guiStore.removeLeafState(this.leafId)}};Z(Ae,"viewType","VIEW_TYPE_TIMELINE_VIEW");let we=Ae;function Ws(n){return new Os(n)}class Os{constructor(e){Z(this,"subscriptions",{created:[],renamed:[],modified:[],deleted:[]});this.vault=e}async list(){return this.vault.getMarkdownFiles()}on(e,t){const i=this.subscriptions[e];return i.push(t),()=>{i.remove(t)}}fileCreated(e){if(!(e instanceof fe.TFile))return;const t=this.subscriptions.created;for(const i of t)i(e)}fileRenamed(e,t){if(!(e instanceof fe.TFile))return;const i=this.subscriptions.renamed;for(const s of i)s(e,t)}fileModified(e){if(!(e instanceof fe.TFile))return;const t=this.subscriptions.modified;for(const i of t)i(e)}fileDeleted(e){if(!(e instanceof fe.TFile))return;const t=this.subscriptions.deleted;for(const i of t)i(e)}}const Es={};class Ls extends fe.Plugin{constructor(){super(...arguments);Z(this,"saveState",{});Z(this,"properties",qi(this.app.vault,this.app.metadataCache));Z(this,"files",Ws(this.app.vault));Z(this,"vault",{properties:this.properties,files:this.files})}async onload(){this.saveState=Object.assign({},Es,await this.loadData()),this.registerView(we.viewType,t=>new we(t,this,this)),this.addRibbonIcon("waves","Open Timeline View",()=>this.openTimelineView()),this.addCommand({id:"open-timeline-view",name:"Open Timeline View",callback:()=>this.openTimelineView()}),this.registerEvent(this.app.metadataCache.on("changed",this.properties.metadataChanged.bind(this.properties))),this.registerEvent(this.app.metadataCache.on("changed",this.files.fileModified.bind(this.files))),this.registerEvent(this.app.vault.on("create",this.files.fileCreated.bind(this.files))),this.registerEvent(this.app.vault.on("rename",this.files.fileRenamed.bind(this.files))),this.registerEvent(this.app.vault.on("modify",this.files.fileModified.bind(this.files))),this.registerEvent(this.app.vault.on("delete",this.files.fileDeleted.bind(this.files)))}async getStateForLeaf(t){var i;return(i=this.saveState[t])!=null?i:null}async saveLeafState(t,i){this.saveState[t]=i,await this.saveData(this.saveState)}async removeLeafState(t){delete this.saveState[t],await this.saveData(this.saveState)}async onunload(){const t=this.app.workspace.getLeavesOfType(we.viewType);for(const i of t)i.detach()}async openTimelineView(){const t=this.app.workspace.getLeaf(!0);t.setViewState({type:we.viewType,active:!0}),this.app.workspace.revealLeaf(t)}}module.exports=Ls;
